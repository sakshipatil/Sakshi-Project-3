<!DOCTYPE html>
<html lang=en>

<head>
	<meta charset=utf-8>
	<title>Add New Icecream </title>

	<style>
		input {
			width: 100%;
			padding: 12px;
			border: 1px solid #ccc;
			border-radius: 4px;
			box-sizing: border-box;
		}
		.button {
			background-color: #1E90FF; /* DodgerBlue */
			border: none;
			color: white;
			padding: 15px 32px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 16px;
			width: 200px
		}
		#myTable {
			font-family: "Trebuchet MS", Arial, Helvetica, sans-serif;
			border-collapse: collapse;
			width: 80%;
		}

		#myTable td, #myTable th {
			border: 0px solid #ddd;
			padding: 8px;
		}

		#myTable tr:nth-child(even){background-color: #f2f2f2;}

		#myTable tr:hover {background-color: #ddd;}

		#myTable th {
			padding-top: 12px;
			padding-bottom: 12px;
			text-align: left;
			background-color: #1E90FF;
			color: white;
		}
	</style>
	<script>

		function validateForm() {
			var x = document.forms["add new icecream"]["icecream_name"].value;
			if (x == "") {
				alert("IcecreamName should not be empty");
				return false;
			}
			var x = document.forms["add new icecream"]["icecream_flavour"].value;
			if (x == "") {
				alert("Icecream Flavour should not be empty");
				return false;
			}
			var x = document.forms["add new icecream"]["icecream_type"].value;
			if (x == "") {
				alert("Icecream Type should not be empty");
				return false;
			}
			var x = document.forms["add new icecream"]["icecream_price"].value;
			if (x == "") {
				alert("Icecream Price should not be empty");
				return false;
			}
		}
	</script>
</head>

<body>
<form id = 'register' action="{{ ip_addr }}register_submit" onsubmit="return validateForm()" method="POST" enctype="multipart/form-data">
	<p><h2>Add New Icecream !</h2></p>
	<table id ="myTable">

		<tr><td>Icecream Name : </td><td><input type="text" id="icecream_name" name="icecream_name" placeholder="Icecream Name "/></td></tr>
		<tr><td>Icecream Flavour : </td><td><input type="text" id="icecream_flavour"  name="icecream_flavour" placeholder="Icecream Flavour "/></td></tr>
		<tr><td>Icecream Type : </td><td><input type="text" id="icecream_type"  name="icecream_type" placeholder="Icecream Type "/></td></tr>
		<tr><td>Icecream Price </td><td><input type="text" id="icecream_price" name="icecream_price" placeholder="Icecream Price "/></td></tr>
		<tr><td><div id ='dvPreview'></div></td></tr>
		<tr><td><input type="submit" class="button" onclick="location.href='{{ ip_addr }}icecreamlist'" value="Add Icecream"></td></tr>
	</table>
</form>
<br>
<br>
<br>
<p>
	<button  class="button" onclick="location.href='{{ ip_addr }}icecreamlist'" type="button">All Icecream </button>
</p>
<script>
	// window.onload =
	function previewFile() {
		var preview = document.querySelector('img'); //selects the query named img
		console.log(preview)
		var files = document.querySelector('input[type=file]').files; //sames as here
		console.log(files)

		// fileUpload.onchange = function () {
		//if (typeof (FileReader) != "undefined") {
		var dvPreview = document.getElementById("dvPreview");
		//dvPreview.innerHTML = "";
		for (var i = 0; i < files.length; i++) {
			var file = files[i];

			var reader = new FileReader();
			reader.onload = function (e) {
				var img = document.createElement("IMG");
				img.height = "200";
				img.width = "200";
				img.src = e.target.result;
				dvPreview.appendChild(img);
			}
			reader.readAsDataURL(file);

		}

	};


</script>
</body>
</html>